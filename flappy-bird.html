<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MuG√∂l GAMES - Flappy Bird</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #gameContainer {
            width: 100%;
            max-width: 500px;
            background: rgba(44, 62, 80, 0.95);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            color: #3498db;
            font-size: 20px;
            letter-spacing: 2px;
        }

        .header h2 {
            color: #ecf0f1;
            font-size: 28px;
        }

        #stats {
            display: flex;
            justify-content: space-around;
            background: rgba(52, 73, 94, 0.8);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            color: #95a5a6;
            font-size: 14px;
        }

        .stat-value {
            color: #ecf0f1;
            font-size: 32px;
            font-weight: bold;
        }

        #canvasContainer {
            background: linear-gradient(180deg, #87CEEB 0%, #E0F6FF 100%);
            border-radius: 15px;
            padding: 10px;
            margin-bottom: 20px;
            position: relative;
        }

        #gameCanvas {
            display: block;
            width: 100%;
            border-radius: 10px;
        }

        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            display: none;
            z-index: 1000;
            border: 3px solid #3498db;
            max-width: 90%;
        }

        .modal h2 {
            color: #3498db;
            font-size: 36px;
            margin-bottom: 20px;
        }

        .modal p {
            color: #ecf0f1;
            font-size: 18px;
            line-height: 1.8;
            margin: 15px 0;
        }

        .modal button {
            margin: 10px;
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .modal button:hover {
            transform: scale(1.05);
        }

        #startScreen {
            display: block;
        }

        .instruction {
            font-size: 48px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div class="header">
            <h1>MuG√∂l GAMES</h1>
            <h2>üê¶ Flappy Bird</h2>
        </div>

        <div id="stats">
            <div class="stat">
                <div class="stat-label">Puan</div>
                <div class="stat-value" id="score">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">En Y√ºksek</div>
                <div class="stat-value" id="highScore">0</div>
            </div>
        </div>

        <div id="canvasContainer">
            <canvas id="gameCanvas" width="460" height="600"></canvas>
        </div>
    </div>

    <div id="startScreen" class="modal">
        <h2>üê¶ Flappy Bird</h2>
        <p class="instruction">üëÜ Tƒ±kla / Dokun</p>
        <p>Ku≈üu u√ßurmak i√ßin tƒ±klayƒ±n!</p>
        <p>Borulardan ge√ßerek puan kazanƒ±n!</p>
        <button onclick="startGame()">Oyuna Ba≈üla</button>
    </div>

    <div id="gameOver" class="modal">
        <h2>Oyun Bitti!</h2>
        <p>Puan: <span id="finalScore">0</span></p>
        <p>En Y√ºksek Puan: <span id="finalHighScore">0</span></p>
        <button onclick="startGame()">Tekrar Oyna</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        let bird = {
            x: 100,
            y: 300,
            vy: 0,
            gravity: 0.6,
            jumpPower: -10,
            radius: 20
        };

        let pipes = [];
        let score = 0;
        let highScore = localStorage.getItem('flappyHighScore') || 0;
        let active = false;
        let frameCount = 0;

        document.getElementById('highScore').textContent = highScore;

        class Pipe {
            constructor() {
                this.x = 460;
                this.gap = 150;
                this.topHeight = Math.random() * 300 + 100;
                this.width = 60;
                this.passed = false;
                this.color = '#2ecc71';
            }

            update() {
                this.x -= 3;
            }

            draw() {
                // Top pipe
                ctx.fillStyle = this.color;
                ctx.fillRect(this.x, 0, this.width, this.topHeight);
                
                // Pipe cap (top)
                ctx.fillStyle = '#27ae60';
                ctx.fillRect(this.x - 5, this.topHeight - 20, this.width + 10, 20);

                // Bottom pipe
                ctx.fillRect(this.x, this.topHeight + this.gap, this.width, 600 - this.topHeight - this.gap);
                
                // Pipe cap (bottom)
                ctx.fillRect(this.x - 5, this.topHeight + this.gap, this.width + 10, 20);
            }

            collidesWith(bird) {
                if (bird.x + bird.radius > this.x && bird.x - bird.radius < this.x + this.width) {
                    if (bird.y - bird.radius < this.topHeight || bird.y + bird.radius > this.topHeight + this.gap) {
                        return true;
                    }
                }
                return false;
            }
        }

        function drawBird() {
            ctx.save();
            ctx.translate(bird.x, bird.y);
            
            // Bird rotation based on velocity
            const rotation = Math.min(Math.max(bird.vy * 0.05, -0.5), 0.5);
            ctx.rotate(rotation);

            // Body
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(0, 0, bird.radius, 0, Math.PI * 2);
            ctx.fill();

            // Wing
            ctx.fillStyle = '#FFA500';
            ctx.beginPath();
            ctx.ellipse(-5, 0, 15, 10, Math.sin(frameCount * 0.2), 0, Math.PI * 2);
            ctx.fill();

            // Eye
            ctx.fillStyle = 'white';
            ctx.beginPath();
            ctx.arc(8, -5, 6, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = 'black';
            ctx.beginPath();
            ctx.arc(10, -5, 3, 0, Math.PI * 2);
            ctx.fill();

            // Beak
            ctx.fillStyle = '#FF6347';
            ctx.beginPath();
            ctx.moveTo(15, 0);
            ctx.lineTo(25, -3);
            ctx.lineTo(25, 3);
            ctx.closePath();
            ctx.fill();

            ctx.restore();
        }

        function drawBackground() {
            // Sky gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, 600);
            gradient.addColorStop(0, '#87CEEB');
            gradient.addColorStop(1, '#E0F6FF');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 460, 600);

            // Clouds
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            ctx.beginPath();
            ctx.arc(100 + (frameCount % 500), 100, 30, 0, Math.PI * 2);
            ctx.arc(130 + (frameCount % 500), 100, 40, 0, Math.PI * 2);
            ctx.arc(160 + (frameCount % 500), 100, 30, 0, Math.PI * 2);
            ctx.fill();

            ctx.beginPath();
            ctx.arc(300 + (frameCount % 600), 200, 35, 0, Math.PI * 2);
            ctx.arc(335 + (frameCount % 600), 200, 45, 0, Math.PI * 2);
            ctx.arc(375 + (frameCount % 600), 200, 35, 0, Math.PI * 2);
            ctx.fill();

            // Ground
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(0, 580, 460, 20);
            
            ctx.fillStyle = '#228B22';
            ctx.fillRect(0, 575, 460, 5);
        }

        function draw() {
            drawBackground();

            // Update and draw pipes
            for (let i = pipes.length - 1; i >= 0; i--) {
                const pipe = pipes[i];
                pipe.update();
                pipe.draw();

                // Check collision
                if (pipe.collidesWith(bird)) {
                    endGame();
                }

                // Score
                if (!pipe.passed && pipe.x + pipe.width < bird.x) {
                    pipe.passed = true;
                    score++;
                    document.getElementById('score').textContent = score;
                    playSound('score');
                }

                // Remove off-screen pipes
                if (pipe.x + pipe.width < 0) {
                    pipes.splice(i, 1);
                }
            }

            // Update bird
            bird.vy += bird.gravity;
            bird.y += bird.vy;

            // Draw bird
            drawBird();

            // Check boundaries
            if (bird.y + bird.radius > 580 || bird.y - bird.radius < 0) {
                endGame();
            }

            frameCount++;

            if (active) {
                requestAnimationFrame(draw);
            }
        }

        function jump() {
            if (active) {
                bird.vy = bird.jumpPower;
                playSound('jump');
            }
        }

        canvas.addEventListener('click', jump);
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            jump();
        });

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                jump();
            }
        });

        function spawnPipe() {
            if (active) {
                pipes.push(new Pipe());
                setTimeout(spawnPipe, 2000);
            }
        }

        function playSound(type) {
            try {
                const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                
                if (type === 'jump') {
                    oscillator.frequency.value = 400;
                    gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                    oscillator.start(audioCtx.currentTime);
                    oscillator.stop(audioCtx.currentTime + 0.1);
                } else if (type === 'score') {
                    oscillator.frequency.value = 800;
                    gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
                    oscillator.start(audioCtx.currentTime);
                    oscillator.stop(audioCtx.currentTime + 0.15);
                }
            } catch (e) {}
        }

        function startGame() {
            bird.y = 300;
            bird.vy = 0;
            pipes = [];
            score = 0;
            frameCount = 0;
            active = true;

            document.getElementById('score').textContent = '0';
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameOver').style.display = 'none';

            setTimeout(spawnPipe, 1500);
            draw();
        }

        function endGame() {
            active = false;
            
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('flappyHighScore', highScore);
                document.getElementById('highScore').textContent = highScore;
            }

            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalHighScore').textContent = highScore;
            document.getElementById('gameOver').style.display = 'block';
        }
    </script>
</body>
</html>
